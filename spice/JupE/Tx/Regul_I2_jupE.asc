Version 4
SHEET 1 1564 680
WIRE -608 -224 -672 -224
WIRE -464 -224 -528 -224
WIRE -352 -224 -464 -224
WIRE -240 -224 -352 -224
WIRE -464 -208 -464 -224
WIRE -672 -176 -672 -224
WIRE -352 -160 -352 -224
WIRE -240 -160 -240 -224
WIRE -464 -112 -464 -128
WIRE -672 -16 -672 -96
WIRE -464 -16 -464 -32
WIRE -464 -16 -672 -16
WIRE -352 -16 -352 -80
WIRE -352 -16 -464 -16
WIRE -240 -16 -240 -80
WIRE -240 -16 -352 -16
FLAG -464 -16 0
FLAG -672 -224 V1
IOPIN -672 -224 Out
FLAG -464 -224 E1
IOPIN -464 -224 BiDir
SYMBOL bv -672 -192 R0
WINDOW 3 -120 383 Left 2
SYMATTR Value V=sig_jup(time,1/Fs1,1/Fs2,Eval_A(Eval_cpd_ModV1(I2_C,D,R2,L2,Rp,Lp,R1,Fs1,Fs2),D),D)
SYMATTR InstName B1
SYMBOL res -512 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL res -480 -224 R0
WINDOW 3 33 47 Left 2
WINDOW 0 36 40 Invisible 2
SYMATTR Value {R2}
SYMATTR InstName R2
SYMBOL ind -480 -128 R0
WINDOW 0 37 75 Left 2
WINDOW 3 37 47 Left 2
SYMATTR InstName L1
SYMATTR Value {L2}
SYMBOL ind -256 -176 R0
WINDOW 0 35 80 Left 2
WINDOW 3 35 52 Left 2
SYMATTR InstName L2
SYMATTR Value {Lp}
SYMBOL res -368 -176 R0
WINDOW 0 36 40 Invisible 2
WINDOW 3 34 58 Left 2
SYMATTR InstName R3
SYMATTR Value {Rp}
TEXT -616 -448 Left 2 !.inc func.txt
TEXT -784 -32 Left 2 !.tran 0 0.1 0 1u
TEXT 736 -216 Left 2 !.MEAS V1rms RMS V(V1)\n.MEAS I2v RMS I(L1)/m\n.MEAS Igen RMS I(B1)
TEXT -16 -416 Left 2 !.PARAM R1=0.38
TEXT -16 -376 Left 2 !.PARAM ModZ0=0.823 ArgZ0=0.387\n.PARAM ModZ=0.594 ArgZ=0.318
TEXT 728 -448 Left 2 !.MEAS Rpv PARAM Rp \n.MEAS Lpv PARAM Lp\n.MEAS R2v PARAM R2\n.MEAS L2v PARAM L2\n.MEAS Zload PARAM V1rms/Igen\n.MEAS I2_cv PARAM I2_C
TEXT -16 -312 Left 2 !.PARAM R2=Eval_R2(Rp,Lp,ModZ,ArgZ,R1,Fs)\n.PARAM L2=Eval_L2(Rp,Lp,ModZ,ArgZ,R1,Fs)
TEXT -16 -248 Left 2 !.PARAM Rp=Eval_Rp(ModZ0,ArgZ0,R1,Fs)\n.PARAM Lp=Eval_Lp(ModZ0,ArgZ0,R1,Fs)
TEXT -16 -456 Left 2 !.PARAM Fs=500 Fs1=410 Fs2=440 D=2/5 m=1/7 I2_C=m*0.5
TEXT -616 -408 Left 2 !.inc sig_jup.txt
TEXT 312 -24 Left 2 ;.param A1=coef_An(1,2/5,1)  A2=coef_An(1,2/5,2)\n.param B1=coef_Bn(1,2/5,1)  B2=coef_Bn(1,2/5,2)\n.param Ka=Eval_k(2/5) A=Eval_A(1,2/5)
TEXT -24 -40 Left 2 ;.MEAS A1v param A1\n.MEAS A2v param A2\n.MEAS B1v param B1\n.MEAS B2v param B2\n.MEAS Kav param Ka\n.MEAS Av param A
TEXT 40 -128 Left 2 !.param ztest=cpd_ModZeq(0.2,1e-3,0.3,2e-3,1,Fs)
TEXT 40 -96 Left 2 !.meas ztzstv param ztest
