Version 4
SHEET 1 888 680
WIRE -80 -192 -208 -192
WIRE -80 -144 -80 -192
WIRE -208 -128 -208 -192
WIRE -208 -16 -208 -48
WIRE -976 80 -976 48
WIRE -976 80 -1056 80
WIRE -960 80 -976 80
WIRE -896 80 -960 80
WIRE -16 96 -224 96
WIRE 80 96 48 96
WIRE 224 96 80 96
WIRE 304 96 224 96
WIRE 400 96 368 96
WIRE 544 96 400 96
WIRE 80 112 80 96
WIRE 224 112 224 96
WIRE 400 112 400 96
WIRE 544 112 544 96
WIRE -1024 128 -1056 128
WIRE -896 128 -944 128
WIRE -1024 160 -1024 128
WIRE -944 160 -944 128
WIRE -224 192 -224 176
WIRE 80 192 80 176
WIRE 80 192 -224 192
WIRE 144 192 80 192
WIRE 224 192 224 176
WIRE 224 192 208 192
WIRE 400 192 400 176
WIRE 400 192 224 192
WIRE 464 192 400 192
WIRE 544 192 544 176
WIRE 544 192 528 192
WIRE 576 192 544 192
WIRE -1024 208 -1024 160
WIRE -1024 208 -1056 208
WIRE -944 208 -944 160
WIRE -896 208 -944 208
WIRE -224 208 -224 192
WIRE -976 256 -1056 256
WIRE -896 256 -976 256
WIRE -976 288 -976 256
FLAG -224 208 0
FLAG 720 272 0
FLAG -1408 -272 0
FLAG -1408 -352 cmd1
FLAG -960 -272 0
FLAG -960 -352 cmd3
FLAG -1408 -96 0
FLAG -1408 -176 cmd2
FLAG -960 -96 0
FLAG -960 -176 cmd4
FLAG -976 288 0
FLAG -976 -32 0
FLAG -752 128 0
FLAG -752 256 0
FLAG -1200 256 0
FLAG -1200 128 0
FLAG -752 80 cmd1
FLAG -1200 80 cmd2
FLAG -1200 208 cmd3
FLAG -752 208 cmd4
FLAG -1024 160 P2
FLAG -944 160 P1
FLAG -960 80 +6V
FLAG -208 -16 0
FLAG -80 -64 0
SYMBOL cap 48 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 38 46 VTop 2
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL cap 208 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL diode 96 176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode 208 112 R0
SYMATTR InstName D2
SYMBOL cap 368 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 38 46 VTop 2
SYMATTR InstName C3
SYMATTR Value 100n
SYMBOL diode 416 176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL cap 528 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL diode 528 112 R0
SYMATTR InstName D4
SYMBOL res 704 176 R0
SYMATTR InstName R1
SYMATTR Value 1Meg
SYMBOL bv -1408 -368 R0
WINDOW 3 39 56 Left 2
SYMATTR Value V=periodic_gate(time,P/4,P)
SYMATTR InstName B1
SYMBOL switch-mos -1136 128 R0
SYMATTR InstName X1
SYMBOL bv -960 -368 R0
WINDOW 3 39 56 Left 2
SYMATTR Value V=periodic_gate(time,P/2-eps,P)
SYMATTR InstName B2
SYMBOL bv -1408 -192 R0
WINDOW 3 39 56 Left 2
SYMATTR Value V=periodic_gate(time-P/2,P/4,P)
SYMATTR InstName B3
SYMBOL bv -960 -192 R0
WINDOW 3 39 56 Left 2
SYMATTR Value V=periodic_gate(time-P/2,P/2-eps,P)
SYMATTR InstName B4
SYMBOL ind2 -192 -32 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L1
SYMATTR Value {Lpont}
SYMATTR Type ind
SYMATTR SpiceLine Rser=1m
SYMBOL switch-mos -816 128 M0
SYMATTR InstName X2
SYMBOL switch-mos -1136 256 R0
SYMATTR InstName X3
SYMBOL switch-mos -816 256 M0
SYMATTR InstName X4
SYMBOL voltage -976 64 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 6
SYMBOL ind2 -240 192 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 4.4
SYMATTR Type ind
SYMBOL voltage -80 -160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 6 0 1u 1u 49u 100u)
TEXT -48 256 Left 2 !.tran 0 100m 0 1u
TEXT 568 -8 Left 2 !.INCLUDE spice_func.txt
TEXT -824 -376 Left 2 !.param P=100u eps=P/100 Lpont=10m Cpont=P**2/(4*pi**2*Lpont)
TEXT -544 192 Left 2 !K1 L1 L2 1
