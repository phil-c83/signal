Version 4
SHEET 1 1560 924
WIRE -480 0 -528 0
WIRE -336 0 -400 0
WIRE -208 0 -256 0
WIRE -160 0 -208 0
WIRE -528 16 -528 0
WIRE 384 64 384 48
WIRE 896 64 896 48
WIRE 1056 64 896 64
WIRE -480 192 -528 192
WIRE -336 192 -400 192
WIRE -208 192 -256 192
WIRE -160 192 -208 192
WIRE 1056 192 1056 64
WIRE -528 208 -528 192
WIRE 384 304 384 144
WIRE 896 304 896 144
WIRE 1056 304 1056 272
WIRE 1056 304 976 304
FLAG -528 96 0
FLAG 384 48 Vs2
FLAG 896 48 Vs1
FLAG -208 0 Vs1
FLAG -528 288 0
FLAG -208 192 Vs2
FLAG 384 304 0
FLAG 896 304 0
FLAG 976 304 0
SYMBOL bv -528 0 R0
WINDOW 0 -42 3 Left 2
WINDOW 3 -336 83 Left 2
SYMATTR InstName B1
SYMATTR Value V=As*CausalSin(time,50,0)
SYMBOL res -384 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rs}
SYMBOL bv -240 0 M270
WINDOW 3 -40 2 VBottom 2
WINDOW 0 32 56 VTop 2
SYMATTR Value V=ddt(I(B1))
SYMATTR InstName B4
SYMBOL res 368 48 R0
SYMATTR InstName R12
SYMATTR Value 20
SYMBOL res 880 48 R0
SYMATTR InstName R9
SYMATTR Value 20
SYMBOL current 1056 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 108 Left 2
SYMATTR InstName I1
SYMATTR Value PULSE(0 5 0.022 999u 999u 2u 2m 1)
SYMBOL bv -528 192 R0
WINDOW 0 -42 3 Left 2
WINDOW 3 -336 83 Left 2
SYMATTR InstName B2
SYMATTR Value V=As*CausalSin(time,50,0)
SYMBOL res -384 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Rs}
SYMBOL ind -240 176 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value {M}
TEXT -824 376 Left 2 !.tran 0 0.1 0 100u
TEXT 8 -288 Left 2 !.param  Ls=100m Rs=1 M=0.5*Ls\n.param As=240
TEXT -296 -280 Left 2 !.inc func.txt
